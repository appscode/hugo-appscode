<!doctype html><html lang=en><head><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-62096468-4','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=theme-color content="#00A651"><title>ServiceBroker Home</title><meta name=description content="Accelerating the transition to Containers by building a Kubernetes-native Data Platform"><meta name=author content="AppsCode Inc."><meta name=keywords content="application monitoring,attic,build docker image,cloud app,cloud deployment,cloud hosting,container applications,continuous deployment,deployment automation,git hosting,kubernetes autoscaling,nagios,network monitor,repository hosting,source code repository"><link rel=apple-touch-icon sizes=57x57 href=/assets/images/products/appscode/icons/apple-icon-57x57.png><link rel=apple-touch-icon sizes=60x60 href=/assets/images/products/appscode/icons/apple-icon-60x60.png><link rel=apple-touch-icon sizes=72x72 href=/assets/images/products/appscode/icons/apple-icon-72x72.png><link rel=apple-touch-icon sizes=76x76 href=/assets/images/products/appscode/icons/apple-icon-76x76.png><link rel=apple-touch-icon sizes=114x114 href=/assets/images/products/appscode/icons/apple-icon-114x114.png><link rel=apple-touch-icon sizes=120x120 href=/assets/images/products/appscode/icons/apple-icon-120x120.png><link rel=apple-touch-icon sizes=144x144 href=/assets/images/products/appscode/icons/apple-icon-144x144.png><link rel=apple-touch-icon sizes=152x152 href=/assets/images/products/appscode/icons/apple-icon-152x152.png><link rel=apple-touch-icon sizes=180x180 href=/assets/images/products/appscode/icons/apple-icon-180x180.png><link rel=icon type=image/png sizes=192x192 href=/assets/images/products/appscode/icons/android-icon-192x192.png><link rel=icon type=image/png sizes=32x32 href=/assets/images/products/appscode/icons/favicon-32x32.png><link rel=icon type=image/png sizes=96x96 href=/assets/images/products/appscode/icons/favicon-96x96.png><link rel=icon type=image/png sizes=16x16 href=/assets/images/products/appscode/icons/favicon-16x16.png><link rel=manifest href=/assets/images/products/appscode/icons/manifest.json><meta name=msapplication-TileColor content="#ffffff"><meta name=msapplication-TileImage content="/assets/images/products/appscode/icons/ms-icon-144x144.png"><meta name=twitter:card content="summary"><meta name=twitter:site content="@AppsCodeHQ"><meta name=twitter:title content="AppsCode Inc."><meta name=twitter:creator content="@AppsCodeHQ"><meta name=twitter:description content="Accelerating the transition to Containers by building a Kubernetes-native Data Platform"><meta name=twitter:image:src content="/assets/images/products/appscode/appscode-1280x640.png"><meta property="og:url" content="https://appscode.com"><meta property="og:title" content="AppsCode Inc."><meta property="og:description" content="Accelerating the transition to Containers by building a Kubernetes-native Data Platform"><meta property="og:site_name" content="AppsCode Inc."><meta property="og:image" content="/assets/images/products/appscode/appscode-1280x640.png"><meta property="og:type" content="article"><link rel=stylesheet href=/assets/css/font-awesome.min.css><link href=https://unpkg.com/aos@2.3.1/dist/aos.css rel=stylesheet><link rel=stylesheet href=/assets/css/bulma-carousel.min.css><link rel=stylesheet href=/assets/css/bulma-tooltip.min.css><link rel=stylesheet href=/assets/css/bulma.min.css><link rel=stylesheet href=/assets/sass/main.min.0e8b818ba1fa5baf0e6a01eebc7680b7e5835004ff37ea37fda0c762e8564d80.css></head><body class=service-broker><header><div class="header-top fixed-menu-z-index"><div class="container section"><nav class=navbar><div class=navbar-brand><a class=navbar-item href=https://appscode.com><img src=/assets/images/products/appscode/appscode.png alt=AppsCode></a>
<a role=button class="navbar-burger burger" aria-label=menu aria-expanded=false data-target=acNav1><span aria-hidden=true></span><span aria-hidden=true></span><span aria-hidden=true></span></a></div><div id=acNav1 class="navbar-menu main-menu"><div class=navbar-end><div class=navbar-start><div class="navbar-item has-dropdown ac-is-hoverable"><a class=navbar-link>Products</a><div class=ac-megamenu><div class=columns><div class="column is-8"><div class=columns><div class="column is-6 br-1"><a href=https://kubedb.com class="single-product-item is-kubedb"><div class=menu-header><div class=menu-logo><img src=/assets/images/products/kubedb/kubedb-icon.png alt=KubeDB></div><h5>KubeDB</h5></div><div class=menu-body><p>Run production-grade databases easily on Kubernetes</p></div></a><a href=https://stash.run class="single-product-item is-stash"><div class=menu-header><div class=menu-logo><img src=/assets/images/products/stash/stash-icon.png alt=Stash></div><h5>Stash</h5></div><div class=menu-body><p>Backup your Kubernetes Stateful Applications</p></div></a><a href=https://kubevault.com class="single-product-item is-kubevault"><div class=menu-header><div class=menu-logo><img src=/assets/images/products/kubevault/kubevault-icon.png alt=KubeVault></div><h5>KubeVault</h5></div><div class=menu-body><p>Tools for running HashiCorp Vault on Kubernetes</p></div></a><a href=https://appscode.com/products/guard/ class="single-product-item is-guard"><div class=menu-header><div class=menu-logo><img src=/assets/images/products/guard/guard-icon.png alt=Guard></div><h5>Guard</h5></div><div class=menu-body><p>Kubernetes Authentication WebHook Server</p></div></a></div><div class="column is-6 br-1"><a href=https://appscode.com/products/voyager/ class="single-product-item is-voyager"><div class=menu-header><div class=menu-logo><img src=/assets/images/products/voyager/voyager-icon.png alt=Voyager></div><h5>Voyager</h5></div><div class=menu-body><p>Secure HAProxy Ingress Controller for
Kubernetes</p></div></a><a href=https://appscode.com/products/swift/ class="single-product-item is-swift"><div class=menu-header><div class=menu-logo><img src=/assets/images/products/swift/swift-icon.png alt=Swift></div><h5>Swift</h5></div><div class=menu-body><p>Ajax friendly Helm Tiller Proxy</p></div></a><a href=https://appscode.com/products/searchlight/ class="single-product-item is-searchlight"><div class=menu-header><div class=menu-logo><img src=/assets/images/products/searchlight/searchlight-icon.png alt=Searchlight></div><h5>Searchlight</h5></div><div class=menu-body><p>Alerts for Kubernetes</p></div></a><a href=https://appscode.com/products/kubed/ class="single-product-item is-kubed"><div class=menu-header><div class=menu-logo><img src=/assets/images/products/kubed/kubed-icon.png alt=Kubed></div><h5>Kubed</h5></div><div class=menu-body><p>Kubernetes cluster manager daemon</p></div></a></div></div></div><div class="column is-4"><div class=columns><div class="column is-12"><a href=https://byte.builders class="single-product-item byte-builder kd-orange"><div class=menu-header><p class=intro>Introducing....</p><h5>ByteBuilders</h5></div><div class=menu-body><p>Cloud reimagined for the age of Kubernetes</p></div><p class=learn-more-btn>Learn more
<span class=icon><i class="fa fa-long-arrow-right" aria-hidden=true></i></span></p></a><a href=https://pharmer.io class="single-product-item is-pharmer"><div class=menu-header><div class=menu-logo><img src=/assets/images/products/pharmer/pharmer-icon.png alt=Pharmer></div><h5>Pharmer</h5></div><div class=menu-body><p>Kubernetes Cluster Manager using Kubeadm & Cluster API</p></div></a><a href=https://kubeform.com class="single-product-item is-kubeform"><div class=menu-header><div class=menu-logo><img src=/assets/images/products/kubeform/kubeform-icon.png alt=Kubeform></div><h5>Kubeform</h5></div><div class=menu-body><p>Provision cloud resources using Kubernetes CRDs & Terraform</p></div></a></div></div></div></div><div class="columns has-text-centered"><div class=column><div class=menu-bottom><p>Explore apps and integrations for AppsCode products:
<a href=https://marketplace.byte.builders>Visit the Marketplace
<i class="fa fa-long-arrow-right" aria-hidden=true></i></a></p></div></div></div></div></div><div class="navbar-item has-dropdown ac-is-hoverable"><a class=navbar-link>Services</a><div class=ac-dropdown><a class=navbar-item href=https://appscode.com/consulting/>Consulting</a>
<a class=navbar-item href=https://appscode.com/training/>Training</a>
<a class=navbar-item href=https://appscode.com/support/>Support</a></div></div><a class=navbar-item href=https://blog.byte.builders>Blog</a>
<a class=navbar-item href=https://appscode.com/contact/>Contact Us</a></div><div class=navbar-item><div class="buttons main-menu-button-top"><a class="button is-small for-chat" href=https://slack.appscode.com><span><img src=/assets/images/icon/slack.png alt></span>Slack</a>
<a class="button is-small for-support" href=https://appscode.freshdesk.com><span><img src=/assets/images/icon/chat.png alt></span>Support Portal</a></div></div></div></div></nav></div></div><div class="header-bottom-area header-area kubedb-primary-bg customize-kubedb fixed-menu"><div class="container section"><nav class=navbar><div class=navbar-brand><a class=navbar-item href=https://appscode.com/products/service-broker/><img src=/assets/images/products/service-broker/service-broker-white.png alt=ServiceBroker></a>
<a role=button class="navbar-burger burger" aria-label=menu aria-expanded=false data-target=acNav><span aria-hidden=true></span><span aria-hidden=true></span><span aria-hidden=true></span></a></div><div id=acNav class="navbar-menu main-menu"><div class=navbar-end><div class=navbar-start><a href=/products/service-broker/0.3.1/welcome/ class=navbar-item>Documentation</a><div class="navbar-item has-dropdown ac-is-hoverable"><a class=navbar-link>Community</a><div class=ac-dropdown><a href=https://github.com/appscode/service-broker class=navbar-item>GitHub</a>
<a href=https://twitter.com/AppsCodeHQ class=navbar-item>Twitter</a>
<a href=https://slack.appscode.com class=navbar-item>Slack</a></div></div></div><div class=navbar-item><div class="buttons main-menu-button"><img style=height:24px alt="GitHub Stars" src="https://img.shields.io/github/stars/appscode/service-broker?style=flat&labelColor=1B3D4B&color=06A64F&logoColor=white&logo=github">
&nbsp;&nbsp;&nbsp;
<img style=height:24px alt="Docker Pulls" src="https://img.shields.io/docker/pulls/appscode/service-broker?style=flat&labelColor=1B3D4B&color=06A64F&logoColor=white&logo=docker"></div></div></div></div></nav></div></div><div class=documentation-menu><div class="container section"><div class=is-centered><div class="is-half has-text-centered-desktop"><div class=responsive-menu><a role=button class="navbar-burger burger" aria-label=menu aria-expanded=false data-target=acNav3><span aria-hidden=true></span><span aria-hidden=true></span><span aria-hidden=true></span></a></div><nav class=documentation-navbar><div id=acNav3 class="navbar-menu nav-menu main-menu"><div class=navbar-centered><div class=navbar-start><a href=/products/service-broker/0.3.1/ class=navbar-item>Welcome</a>
<a href=/products/service-broker/0.3.1/concepts/ class=navbar-item>Concepts</a>
<a href=/products/service-broker/0.3.1/setup/ class=navbar-item>Setup</a>
<a href=/products/service-broker/0.3.1/guides/ class="is-active navbar-item">Guides</a>
<a href=/products/service-broker/0.3.1/reference/ class=navbar-item>Reference</a></div></div></div></nav></div></div></div></div></header><div class=documentation-area><div class="container section"><div class=columns><div class="column is-3"><div class=kd-left-sidebar><div class=trial-button><a href=/products/service-broker/0.3.1/setup/ class="button is-fullwidth">Try Now for FREE!</a></div><div class=kd-version><div class=dropdown><div class=dropdown-trigger><button class="button is-fullwidth" aria-haspopup=true aria-controls=dropdown-menu3>
<span><strong class=icon><i class="fa fa-cog" aria-hidden=true></i></strong>0.3.1</span>
<span class=new-item>Latest</span>
<span class="icon is-small"><i class="fa fa-angle-down" aria-hidden=true></i></span></button></div><div class=dropdown-menu id=dropdown-menu3 role=menu><div class=dropdown-content><a href=https://github.com/appscode/service-broker/tree/master/docs target=_blank class=dropdown-item>master</a>
<a href=/products/service-broker/0.3.1/ class=dropdown-item>0.3.1<div class=tag>Latest</div></a><a href=/products/service-broker/0.3.0/ class=dropdown-item>0.3.0</a>
<a href=/products/service-broker/0.2.0/ class=dropdown-item>0.2.0</a>
<a href=/products/service-broker/0.1.0/ class=dropdown-item>0.1.0</a></div></div></div></div><div class=kd-sidebar-menu><div class=item><input type=checkbox id=7ac3b809aa3a421a3e1c9b6e99bb27b2-1>
<label for=7ac3b809aa3a421a3e1c9b6e99bb27b2-1><a href=/products/service-broker/0.3.1/guides/>Guides</a></label></div><div class=item><input type=checkbox id=7ac3b809aa3a421a3e1c9b6e99bb27b2-2>
<label for=7ac3b809aa3a421a3e1c9b6e99bb27b2-2><a>KubeDB</a> <span><i class="fa fa-angle-right" aria-hidden=true></i></span></label><div class=item><ul><li><a href=/products/service-broker/0.3.1/guides/kubedb/elasticsearch/>Elasticsearch</a></li><li><a href=/products/service-broker/0.3.1/guides/kubedb/memcached/>Memcached</a></li><li><a href=/products/service-broker/0.3.1/guides/kubedb/mongodb/>Mongodb</a></li><li><a href=/products/service-broker/0.3.1/guides/kubedb/mysql/>MySQL</a></li><li><a href=/products/service-broker/0.3.1/guides/kubedb/postgres/>PostgreSQL</a></li><li><a href=/products/service-broker/0.3.1/guides/kubedb/redis/>Redis</a></li></ul></div></div><div class=item><input type=checkbox id=7ac3b809aa3a421a3e1c9b6e99bb27b2-3>
<label for=7ac3b809aa3a421a3e1c9b6e99bb27b2-3><a>Monitoring</a> <span><i class="fa fa-angle-right" aria-hidden=true></i></span></label><div class=item><ul><li><a href=/products/service-broker/0.3.1/guides/monitoring/overview/>Overview</a></li><li><a href=/products/service-broker/0.3.1/guides/monitoring/builtin/>Builtin Prometheus</a></li><li><a href=/products/service-broker/0.3.1/guides/monitoring/coreos/>Prometheus Operator</a></li></ul></div></div><div class=item><input type=checkbox id=7ac3b809aa3a421a3e1c9b6e99bb27b2-4 checked>
<label for=7ac3b809aa3a421a3e1c9b6e99bb27b2-4><a href=/products/service-broker/0.3.1/guides/kubeapps/>Using Kubeapps</a></label></div></div></div></div><div class="column is-7"><div class=full-info><blockquote><p>New to AppsCode Service Broker? Please start <a href=/products/service-broker/0.3.1/concepts/README>here</a>.</p></blockquote><h1 id=using-kubeapps-with-appscode-service-broker>Using Kubeapps with AppsCode Service Broker</h1><p><a href=https://github.com/kubeapps/kubeapps>Kubeapps</a> is a web-based UI for deploying and managing applications in Kubernetes clusters. Using Kubeapps you can browse and provision external services exposed by a <a href=https://github.com/kubernetes-incubator/service-catalog>Service Catalog</a>.</p><p>In this tutorial, we are going to show you how you can browse and manage database services provided by <a href=https://kubedb.com>KubeDB</a> in a Kubernetes cluster through the Kubeapps Dashboard.</p><h2 id=prerequisites>Prerequisites</h2><p>Before we start, you need the following things:</p><ul><li><p>A Kubernetes cluster(v1.9+), and the <a href=https://kubernetes.io/docs/tasks/tools/install-kubectl/>kubectl</a> command-line tool must be configured to communicate with your cluster. If you do not already have a cluster, you can create one by using <a href=https://kubernetes.io/docs/setup/minikube>Minikube</a>.</p></li><li><p><a href=http://helm.sh/>Helm</a>(v2.10.0+).</p><ul><li>Follow the <a href=https://github.com/kubernetes/helm/blob/master/docs/install.md>installation instructions</a>.</li><li>If you already have an appropriate version of Helm installed, execute <strong><code>helm init</code></strong> to install Tiller, the server-side component of Helm.</li></ul></li><li><p><a href=https://github.com/kubeapps/kubeapps/blob/master/docs/user/getting-started.md>Kubeapps</a></p><blockquote><p>You need to create a Kubernetes API token to access to the Kubeapps Dashboard and ensure that you can access it. To that end, follow <a href=https://github.com/kubeapps/kubeapps/blob/master/docs/user/getting-started.md#step-2-create-a-kubernetes-api-token>Create a Kubernetes API token</a> and <a href=https://github.com/kubeapps/kubeapps/blob/master/docs/user/getting-started.md#step-3-start-the-kubeapps-dashboard>Start the Kubeapps Dashboard</a> sections.</p></blockquote></li><li><p><a href=https://svc-cat.io/docs/install/>Service Catalog</a>.</p></li><li><p><a href=https://kubedb.com/docs/latest/setup/install/>KubeDB</a></p></li><li><p><a href=/products/service-broker/0.3.1/setup/install>AppsCode Service Broker</a>.</p></li></ul><h2 id=browse-the-services-offered-by-appscode-service-broker>Browse the Services Offered by AppsCode Service Broker</h2><p>After you have completed the prerequisite steps, you should be able to access the Kubeapps Dashboard.</p><p><img src=/products/service-broker/0.3.1/images/kubeapps-dashboard.png alt=ref></p><p>If you select <code>All Namespaces</code> from the drop-down list of namespaces, you should see namespaces like <code>kubeapps</code>, <code>catalog</code>, <code>kubedb-operator</code>, <code>appscode-service-broker</code>, etc.</p><p><img src=/products/service-broker/0.3.1/images/apps-in-all-ns.png alt=ref></p><p>You can click on the applications icon to see more information. Now go to the &ldquo;Service Instances&rdquo; page by clicking on the &ldquo;Service Instances (alpha)&rdquo; menu from the top menu bar. Then click &ldquo;Deploy Service Instance&rdquo; button and you will see the page that lists the services available from all the brokers installed in your cluster. Since you have only installed AppsCode Service Broker (according to this guide), this list contains services offered by AppsCode Service Broker. You can select any of the services from the gallery view.</p><p><img src=/products/service-broker/0.3.1/images/service-classes.png alt=ref></p><p>Click &ldquo;Select a plan&rdquo; button on the icon for <code>postgresql</code> service. Then a list of plans under this service will be shown.</p><p><img src=/products/service-broker/0.3.1/images/service-plans-postgresql.png alt=ref></p><h2 id=manage-the-services-offered-by-appscode-service-broker>Manage the Services Offered by AppsCode Service Broker</h2><p>In this section, you will learn how to use the following PostgreSQL service plans:</p><ul><li><strong><code>demo-postgresql</code></strong> (Demo Standalone PostgreSQL database)</li><li><strong><code>postgresql</code></strong> (PostgreSQL database with custom specification).</li></ul><h3 id=manage-demo-postgresql-plan>Manage <code>demo-postgresql</code> Plan</h3><p>Using this plan you can provision a demo PostgreSQL database with ephemeral storage in a Kubernetes cluster.</p><h4 id=provisioning>Provisioning</h4><p>To provision a demo standalone PostgreSQL database, perform the following tasks:</p><ul><li><p>Click on the &ldquo;Provision&rdquo; button for <code>demo-postgresql</code> plan on the list page <code>postgresql</code> service class.</p></li><li><p>A modal dialog will appear for you to input the name for a service instance. In this guide, we are going to use &ldquo;postgresqldb&rdquo; as the name for the service instance. You can input any name you wish.</p><p><img src=/products/service-broker/0.3.1/images/enter-provision-name.png alt=ref></p></li><li><p>Click &ldquo;Continue&rdquo;</p></li><li><p>Now, you get another modal dialog to input the parameters for provisioning. AppsCode Service Broker accepts only metadata and <a href=https://kubedb.com/docs/0.11.0/concepts/databases/postgres/#postgres-spec>spec</a> of <a href=https://kubedb.com/docs/0.11.0/concepts/databases/postgres>Postgres CRD</a> as parameters for the plans of <code>postgresql</code> service. The metadata and spec should be provided with key <code>"metadata"</code> and <code>"spec"</code> respectively. The metadata is optional for all of the plans available. But the spec is required for the custom plan and it must be valid. Here we have used the following <code>json</code> formatted metadata:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{
  <span style=color:#f92672>&#34;metadata&#34;</span>: {
    <span style=color:#f92672>&#34;labels&#34;</span>: {
      <span style=color:#f92672>&#34;app&#34;</span>: <span style=color:#e6db74>&#34;my-postgres&#34;</span>
    }
  }
}
</code></pre></div><p><img src=/products/service-broker/0.3.1/images/enter-provision-params.png alt=ref></p></li><li><p>Click &ldquo;Submit&rdquo;</p></li><li><p>Refresh the page after 10-15 seconds. You should see <strong><code>ProvisionedSuccessfully</code></strong> as the reason in that page like below:</p><p><img src=/products/service-broker/0.3.1/images/instance-for-demo-postgresql.png alt=ref></p></li><li><p>Go back to the &ldquo;Service Instances&rdquo; page by clicking the &ldquo;Service Instances (alpha)&rdquo; menu from the top menu bar and select the <code>All Namespaces</code> or <code>default</code> from the drop-down list for namespaces and a list of current service instances in the selected namespace will be shown.</p><p><img src=/products/service-broker/0.3.1/images/service-instances-list.png alt=ref></p></li></ul><h4 id=binding>Binding</h4><p>In this section, we are going to bind the instance created in the previous section. To do so, follow the steps below:</p><ul><li><p>Click the &ldquo;Add Binding&rdquo; button on the details page of the newly created instance named <code>postgresqldb</code>.</p></li><li><p>A modal dialog will appear where you can input the name for a binding. You can provide any name you wish. Here we used <code>postgresqldb</code> (same as the name of the instance).</p><p><img src=/products/service-broker/0.3.1/images/enter-binding-name.png alt=ref></p></li><li><p>Click &ldquo;Continue&rdquo;</p></li><li><p>Another pop-up will ask you to provide the parameters in <code>json</code> format for binding the instance. Currently, AppsCode Service Broker does not support any parameter for binding. So just keep it empty.</p></li><li><p>Click &ldquo;Submit&rdquo;</p></li><li><p>Refresh the page after 10-15 seconds and you will find the status of the binding named <code>postgresqldb</code> as <strong><code>InjectedBindResult</code></strong>.</p><p><img src=/products/service-broker/0.3.1/images/binding-successful.png alt=ref></p></li><li><p>Click on the link labeled as &ldquo;show&rdquo; and the secret data will appear in a pop-up.</p><p><img src=/products/service-broker/0.3.1/images/show-binding-secret-data.png alt=ref></p></li></ul><h4 id=unbinding>Unbinding</h4><p>You can unbind the newly created binding named <code>postgresqldb</code> by clicking the &ldquo;Remove&rdquo; button on that page. Refresh the page afterwards and the binding will disappear.</p><h4 id=deprovisioning>Deprovisioning</h4><p>To deprovision the previously created instance named <code>postgresqldb</code>, just click &ldquo;Deprovision&rdquo; button and press &ldquo;Delete&rdquo; on the pop-up window. Refresh the page after several seconds. That&rsquo;s it. Now you can check the &ldquo;Service Instances&rdquo; page by clicking the &ldquo;Service Instances (alpha)&rdquo; menu from the top menu bar and the instance should be gone.</p><h3 id=manage-postgresql-plan>Manage <code>postgresql</code> Plan</h3><p>Using this plan you can provide a <a href=https://kubedb.com/docs/0.11.0/concepts/databases/postgres/#postgres-spec>custom specification</a> for PostgreSQL.</p><h4 id=provisioning-1>Provisioning</h4><p>This section will show you how to provision <code>postgresql</code> plan for PostgreSQL database using custom specification. Here are the steps:</p><ul><li><p>Click on the &ldquo;Provision&rdquo; button for <code>postgresql</code> plan in the list page (the page that contains the list of plans for service named <code>postgresql</code>).</p></li><li><p>A pop-up will appear for you to input a name for the instance. Let&rsquo;s use the name &ldquo;postgresqldb&rdquo;. You can input some other name if you like.</p><p><img src=/products/service-broker/0.3.1/images/enter-provision-name.png alt=ref></p></li><li><p>Click &ldquo;Continue&rdquo;</p></li><li><p>Now, you get another modal dialog to input the parameters for provisioning. AppsCode Service Broker accepts only metadata and <a href=https://kubedb.com/docs/0.11.0/concepts/databases/postgres/#postgres-spec>spec</a> of <a href=https://kubedb.com/docs/0.11.0/concepts/databases/postgres>Postgres CRD</a> as parameters for the plans of <code>postgresql</code> service. The metadata and spec should be provided with key <code>"metadata"</code> and <code>"spec"</code> respectively. The metadata is optional for all of the plans available. But the spec is required for the custom plan and it must be valid. Here we have used the following <code>json</code> formatted parameters for this custom <code>postgresql</code> plan:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{
  <span style=color:#f92672>&#34;metadata&#34;</span>: {
    <span style=color:#f92672>&#34;labels&#34;</span>: {
      <span style=color:#f92672>&#34;app&#34;</span>: <span style=color:#e6db74>&#34;my-postgres&#34;</span>
    }
  },
  <span style=color:#f92672>&#34;spec&#34;</span>: {
    <span style=color:#f92672>&#34;storage&#34;</span>: {
      <span style=color:#f92672>&#34;accessModes&#34;</span>: [
        <span style=color:#e6db74>&#34;ReadWriteOnce&#34;</span>
      ],
      <span style=color:#f92672>&#34;resources&#34;</span>: {
        <span style=color:#f92672>&#34;requests&#34;</span>: {
          <span style=color:#f92672>&#34;storage&#34;</span>: <span style=color:#e6db74>&#34;50Mi&#34;</span>
        }
      },
      <span style=color:#f92672>&#34;storageClassName&#34;</span>: <span style=color:#e6db74>&#34;standard&#34;</span>
    },
    <span style=color:#f92672>&#34;terminationPolicy&#34;</span>: <span style=color:#e6db74>&#34;WipeOut&#34;</span>,
    <span style=color:#f92672>&#34;version&#34;</span>: <span style=color:#e6db74>&#34;10.2-v1&#34;</span>
  }
}
</code></pre></div></li><li><p>Click &ldquo;Submit&rdquo;</p></li><li><p>Refresh the page after 10-15 seconds. You will see <strong><code>ProvisionedSuccessfully</code></strong> as the reason in that page like below:</p><p><img src=/products/service-broker/0.3.1/images/instance-for-custom-postgresql.png alt=ref></p></li><li><p>Go to the &ldquo;Service Instances&rdquo; page by clicking the &ldquo;Service Instances (alpha)&rdquo; menu from the top menu bar and select the <code>All Namespaces</code> or <code>default</code> from the drop-down list for namespaces. You should see a list of current service instances in the selected namespace.</p><p><img src=/products/service-broker/0.3.1/images/service-instances-list.png alt=ref></p></li></ul><h4 id=binding-1>Binding</h4><p>In this section, we are going to bind the instance created in the previous section. Do the followings steps:</p><ul><li><p>Click the &ldquo;Add Binding&rdquo; button on the details page of the newly created instance named <code>postgresqldb</code>.</p></li><li><p>A pop-up dialog will appear for you to input a name for the binding. You can provide any name you wish. Here we used <code>postgresqldb</code> (same as the name of instance).</p><p><img src=/products/service-broker/0.3.1/images/enter-binding-name.png alt=ref></p></li><li><p>Click &ldquo;Continue&rdquo;</p></li><li><p>Another pop-up dialog will ask you to provide the parameters in <code>json</code> format for binding the instance. Currently, AppsCode Service Broker does not support any parameters for binding. So just keep it empty.</p><p><img src=/products/service-broker/0.3.1/images/enter-binding-parametes.png alt=ref></p></li><li><p>Click &ldquo;Submit&rdquo;</p></li><li><p>Refresh the page after 5-10 seconds. You should see the status of the binding named <code>postgresqldb</code> set to <strong><code>InjectedBindResult</code></strong>.</p><p><img src=/products/service-broker/0.3.1/images/binding-successful.png alt=ref></p></li><li><p>Click on the link labeled as &ldquo;show&rdquo; and the secret data will appear in a pop-up dialog.</p><p><img src=/products/service-broker/0.3.1/images/show-binding-secret-data-custom.png alt=ref></p></li></ul><h4 id=unbinding-1>Unbinding</h4><p>You can unbind the newly created binding named <code>postgresqldb</code> by clicking the &ldquo;Remove&rdquo; button on that page. Refresh the page afterwards and the binding will disappear.</p><h4 id=deprovisioning-1>Deprovisioning</h4><p>To deprovision the previously created instance named <code>postgresqldb</code> for plan <strong><code>postgresql</code></strong>, just click &ldquo;Deprovision&rdquo; button and press &ldquo;Delete&rdquo; to confirm on the pop-up dialog. Then refresh the page. That&rsquo;s it. Now you can check the &ldquo;Service Instances&rdquo; page by clicking the &ldquo;Service Instances (alpha)&rdquo; menu from the top menu bar. You will see that the instance has disappeared.</p><h2 id=cleanup>Cleanup</h2><ul><li><p><a href=/products/service-broker/0.3.1/setup/uninstall>Uninstall AppsCode Service Broker</a>.</p></li><li><p><a href=https://kubedb.com/docs/0.11.0/setup/uninstall/>Uninstall KubeDB</a></p></li><li><p>Run the following commands to delete Service Catalog</p><pre><code class=language-console data-lang=console>$ helm delete --purge catalog
$ kubectl delete ns catalog
</code></pre></li><li><p>Run the following commands to delete Kubeapps</p><pre><code class=language-console data-lang=console>$ helm delete --purge kubeapps
$ kubectl delete ns kubeapps
</code></pre></li></ul></div></div><div class="column is-2"><div class=right-sidebar-area><div class=search-area><form action=#><input id=acSearch type=text placeholder=Search...>
<button class=search-button>
<i class="fa fa-search" aria-hidden=true></i></button></form></div><div class=tbl-of-contents><h4>What's on this Page</h4><nav id=TableOfContents><ul><li><a href=#prerequisites>Prerequisites</a></li><li><a href=#browse-the-services-offered-by-appscode-service-broker>Browse the Services Offered by AppsCode Service Broker</a></li><li><a href=#manage-the-services-offered-by-appscode-service-broker>Manage the Services Offered by AppsCode Service Broker</a><ul><li><a href=#manage-demo-postgresql-plan>Manage demo-postgresql Plan</a></li><li><a href=#manage-postgresql-plan>Manage postgresql Plan</a></li></ul></li><li><a href=#cleanup>Cleanup</a></li></ul></nav></div></div></div></div></div><script>var kdDropdown=document.querySelector(".dropdown");var kdDropdownBtn=document.querySelector(".dropdown-trigger");kdDropdownBtn.addEventListener("click",function(){kdDropdown.classList.toggle("is-active");})</script></div><div class=improve-section-area><div class="container section"><div class=improve-bg-color><div class=columns><div class="column is-6"><a href=https://github.com/appscode/service-broker/edit/master/docs/guides/kubeapps.md/>Improve This Page</a></div></div></div></div></div><div class=overlay-bg></div><div class=sidebar-search-area><div class=search-area-top><h3>Search</h3><div class=searchbar-area><input type=search name=search id=searchbox placeholder=Search...>
<button onclick=queryPage(1)><i class="fa fa-search" aria-hidden=true></i></button></div><span id=searchbar-script-container style=display:none></span><div class="search-meta-information level"><div class=level-left></div></div></div><div class=search-result-wrapper></div><div class=pagination-area><div class=pagination-list></div></div></div><script type=text/javascript>var pageSize=5;var acSearch=document.querySelector("#acSearch");var bodyOverlay=document.querySelector(".overlay-bg");var sidebarSearch=document.querySelector(".sidebar-search-area");acSearch.addEventListener("click",function(){bodyOverlay.style.display="block";sidebarSearch.style.right="0";document.getElementById("searchbox").focus();bodyOverlay.addEventListener("click",function(){bodyOverlay.style.display="none";sidebarSearch.style.right="-80%";});});function encodeQueryData(data){var ret=[];for(var d in data)
ret.push(encodeURIComponent(d)+'='+encodeURIComponent(data[d]));return ret.join('&');}
document.querySelector(".searchbar-area input[type=search]").addEventListener("keyup",function(event){event.preventDefault();if(event.keyCode===13){queryPage(1);}});function queryPage(idx){var q=document.getElementById("searchbox").value;var cx="015199383701854252104:jccvu4eiulw";var key="AIzaSyBo15AW3hatf4fO8actJUZ_d5qZJpx0rXM";var imgSize="small";var callback="renderResult";var src="https://www.googleapis.com/customsearch/v1?"+encodeQueryData({q:q,cx:cx,key:key,imgSize:imgSize,callback:callback,start:(idx-1)*pageSize+1,num:pageSize,});var newScript=document.createElement("script");newScript.src=src;e=document.getElementById("searchbar-script-container");var child=e.lastElementChild;if(child){e.removeChild(child);}
e.appendChild(newScript);}
function renderSearchResultEntry(e){var out='<div class="single-search-result">'+
'<h3><a href="'+e.link+'">'+e.title+'</a></h3>'+
'<a href="'+e.link+'">'+e.htmlFormattedUrl+'</a>'+
'<div class="result-description-wrapper">';if(e.pagemap&&e.pagemap.cse_thumbnail){out+='<div class="result-thumb">'+
'<img src="'+e.pagemap.cse_thumbnail[0].src+'" alt="" />'+
'</div>';}
out+='<div class="result-description">'+
'<p>'+
e.snippet+
'</p>'+
'</div>'+
'</div>'+
'</div>';return out;}
function renderResult(response){document.querySelector(".search-meta-information .level-left").innerHTML='<div class="level-left">'+
'<p>'+
'About <span class="search-count">'+response.searchInformation.formattedTotalResults+'</span> results (<span class="time-count">'+response.searchInformation.formattedSearchTime+' </span>seconds)'+
'</p>'+
'</div>';if(!response.items){return;}
var searchResultWrapper=document.querySelector(".search-result-wrapper");searchResultWrapper.innerHTML="";for(var i=0;i<response.items.length;i++){searchResultWrapper.innerHTML+=renderSearchResultEntry(response.items[i]);}
var pager='<ul>';if(response.queries.previousPage){var pageIndex=Math.floor(response.queries.previousPage[0].startIndex/pageSize)+1;pager+='<li><a href="#" onclick="queryPage('+pageIndex+')">Previous</a></li>';}
if(response.queries.request){var pageIndex=Math.floor(response.queries.request[0].startIndex/pageSize)+1;pager+='<li><a href="#" onclick="queryPage('+pageIndex+')" class="is-active">'+pageIndex+'</a></li>';}
if(response.queries.nextPage){var pageIndex=Math.floor(response.queries.nextPage[0].startIndex/pageSize)+1;pager+='<li><a href="#" onclick="queryPage('+pageIndex+')">Next</a></li>';}
pager+='</ul>';document.querySelector(".pagination-area .pagination-list").innerHTML=pager;}</script><section></section><section></section><section></section><button class=go-to-top id=goTop>
<i class="fa fa-angle-up" aria-hidden=true></i></button><footer class=footer-area><div class=footer-top><div class="container section"><div class="columns is-mobile is-multiline"><div class="column is-full-mobile is-one-third-desktop is-one-third-widescreen is-one-third-tablet" data-aos=fade-up><div class=single-footer-widget><div class=footer-logo><a href=https://appscode.com><img src=/assets/images/products/appscode/appscode.png alt=AppsCode class=img></a></div><div class=subscription-form><form action="https://appscode.us17.list-manage.com/subscribe/post?u=feb2bf31969a951e7449048a3&id=82fb19acb9" method=post id=mc-embedded-subscribe-form name=mc-embedded-subscribe-form class=navbar-form target=_blank novalidate role=email role=email><label for=email>Subscribe to Our Newsletter</label><p class=spam-message>No spam, we promise. Your mail address is secure</p><div class="field has-addons"><div class=control><input class=input name=EMAIL id=mce-EMAIL type=email placeholder="Your work email address" required>
<button id=mc-embedded-subscribe type=submit name=subscribe class=button>
<i class="fa fa-paper-plane-o" aria-hidden=true></i></button></div></div></form></div><div class=contact-information><h4>Have any Inquiry?</h4><ul class=all-contact-info><li><a href=callto:+1%28650%29241-8486><span><i class="fa fa-phone" aria-hidden=true></i></span>+1(650)241-8486</a></li><li><a href=mailto:support@appscode.com><span><i class="fa fa-envelope-o" aria-hidden=true></i></span>support@appscode.com</a></li></ul></div></div></div><div class="column is-half-mobile" data-aos=fade-up data-aos-duration=800><div class=single-footer-widget><div class=footer-menu><h4>Products</h4><ul class=footer-link><li><a href=https://kubedb.com>KubeDB</a></li><li><a href=https://stash.run>Stash</a></li><li><a href=https://kubevault.com>KubeVault</a></li><li><a href=https://appscode.com/products/voyager/>Voyager</a></li><li><a href=https://appscode.com/products/guard/>Guard</a></li><li><a href=https://pharmer.io>Pharmer</a></li></ul></div></div></div><div class="column is-half-mobile" data-aos=fade-up data-aos-duration=1000><div class=single-footer-widget><div class=footer-menu><h4>Services</h4><ul class=footer-link><li><a href=https://appscode.com/pricing/>Commercial Support</a></li><li><a href=https://appscode.com/consulting/>Consulting</a></li><li><a href=https://appscode.com/training/>Training</a></li><li><a href=https://appscode.com/support/>Support</a></li></ul></div></div></div><div class="column is-half-mobile" data-aos=fade-up data-aos-duration=1200><div class=single-footer-widget><div class=footer-menu><h4>Company</h4><ul class=footer-link><li><a href=https://appscode.com/about/>About Us</a></li><li><a href=https://blog.byte.builders>Blog</a></li><li><a href=https://appscode.com/contact/>Contact Us</a></li></ul></div></div></div><div class="column is-half-mobile" data-aos=fade-up data-aos-duration=1500><div class=single-footer-widget><div class=footer-menu><h4>Legal</h4><ul class=footer-link><li><a href=https://appscode.com/legal/tos/>Terms of Sevice</a></li><li><a href=https://appscode.com/legal/privacy-policy/>Privacy Policy</a></li><li><a href=https://appscode.com/legal/security/>Security</a></li><li><a href=https://appscode.com/legal/sla/>Service Level Agreement</a></li></ul></div></div></div></div></div></div><div class=footer-bottom><div class="container section"><div class=columns><div class="column is-4"><p>© 2020 AppsCode Inc. All rights reserved.</p></div><div class="column is-4 is-mobile has-text-centered"><div class=footer-inline-link><a href=https://appscode.com/legal/privacy-policy/>Privacy Policy</a>
<a href=https://appscode.com/legal/tos/>Terms of Service</a></div></div><div class="column is-4 is-mobile has-text-right"><div class=socail-link-inline><ul><li><a href=https://twitter.com/AppsCodeHQ target=_blank rel=noopener><i class="fa fa-twitter" aria-hidden=true></i></a></li><li><a href=https://www.facebook.com/appscode target=_blank rel=noopener><i class="fa fa-facebook" aria-hidden=true></i></a></li><li><a href=https://www.youtube.com/c/AppsCodeInc target=_blank rel=noopener><i class="fa fa-youtube" aria-hidden=true></i></a></li></ul></div></div></div></div></div></footer><script src=/assets/js/bulma-carousel.min.js></script><script src=https://unpkg.com/aos@2.3.1/dist/aos.js></script><script src=https://unpkg.com/downloadjs@1.4.7/download.min.js></script><script src=https://unpkg.com/clipboard@2/dist/clipboard.min.js></script><script src=/assets/js/main.js></script><script type=text/javascript>var Tawk_API=Tawk_API||{},Tawk_LoadStart=new Date();(function(){var s1=document.createElement("script"),s0=document.getElementsByTagName("script")[0];s1.async=true;s1.src='https://embed.tawk.to/5821e34b18d9f16af02864b7/default';s1.charset='UTF-8';s1.setAttribute('crossorigin','*');s0.parentNode.insertBefore(s1,s0);})();</script></body></html>